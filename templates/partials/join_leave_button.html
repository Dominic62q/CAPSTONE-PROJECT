{% if user.is_authenticated %}
    {% if is_member %}
        <button 
            hx-post="/api/groups/{{ group.id }}/leave/" 
            hx-target="#main-content" 
            hx-swap="innerHTML"
            class="px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg font-semibold text-sm transition-all shadow-lg transform hover:-translate-y-0.5"
        >
            <i data-lucide="log-out" class="w-4 h-4 inline mr-1"></i> Leave Group
        </button>
    {% else %}
        <button 
            hx-post="/api/groups/{{ group.id }}/join/" 
            hx-target="#main-content" 
            hx-swap="innerHTML"
            class="px-4 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-semibold text-sm transition-all shadow-lg transform hover:-translate-y-0.5"
        >
            <i data-lucide="plus" class="w-4 h-4 inline mr-1"></i> Join Group
        </button>
    {% endif %}
{% else %}
    <span class="text-sm text-gray-500">Log in to join.</span>
{% endif %}